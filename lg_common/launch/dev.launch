<launch>
  <arg name="broadcast_addr" />

  <arg name="spnav_path" default="/dev/input/spacenavigator" />

  <param name="/viewport/left_one" value="640x480+0+0" />
  <param name="/viewport/center" value="640x480+640+0" />
  <param name="/viewport/right_one" value="640x480+1280+0" />

  <!-- Development static file server. -->
  <node name="dev_webserver" pkg="lg_common" type="dev_webserver.py" />

  <!-- Local rosbridge and rosapi. -->
  <include file="$(find rosbridge_server)/launch/rosbridge_websocket.launch" />

  <!-- Some Google Earths. -->
  <node name="earth_left_one" pkg="lg_earth" type="client" clear_params="true">
    <param name="viewsync_recv" value="true" />
    <param name="viewsync_hostname" value="$(arg broadcast_addr)" />
    <param name="yaw_offset" value="65" />
    <param name="viewport" value="left_one" />
  </node>
  <node name="earth_center" pkg="lg_earth" type="client" clear_params="true">
    <param name="viewsync_send" value="true" />
    <param name="spacenav_device" value="$(arg spnav_path)" />
    <param name="show_compass" value="true" />
    <param name="viewport" value="center" />
  </node>
  <node name="earth_right_one" pkg="lg_earth" type="client" clear_params="true">
    <param name="viewsync_recv" value="true" />
    <param name="viewsync_hostname" value="$(arg broadcast_addr)" />
    <param name="yaw_offset" value="-65" />
    <param name="viewport" value="right_one" />
  </node>

  <!-- Google Earth viewsync relay. -->
  <node name="viewsync_relay" pkg="lg_earth" type="viewsync_relay" clear_params="true">
    <param name="repeat_host" value="$(arg broadcast_addr)" />
  </node>

  <!-- Google earth query interface. -->
  <node name="query_writer" pkg="lg_earth" type="query" clear_params="true" />
</launch>
