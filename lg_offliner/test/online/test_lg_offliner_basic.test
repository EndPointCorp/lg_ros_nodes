<launch>
    <node name="lg_offliner" pkg="lg_offliner" type="lg_offliner_starter.py">
        <param name="check_every_seconds_delay" value="30"/>
        <!-- Check what happens if someone puts non-unique dict keys here  -->
        <!-- Have a test for that?  -->
        <param name="checks" value = "{'http': 'curl --head --max-time 3 http://wwww.google.com',
                                       'icmp1': 'ping -W 5 -c 3 www.yahoo.com',
                                       'icmp2': 'ping -W 5 -c 3 www.nsa.gov',
                                       'dns': 'nslookup -timeout 5 www.endpoint.com'}"/>
    </node>

    <!-- Local rosbridge and rosapi. -->
    <include file="$(find rosbridge_server)/launch/rosbridge_websocket.launch" >
        <arg name="port" value="9875" />
    </include>

    <test test-name="test_lg_offliner_basic" pkg="lg_offliner" type="test_lg_offliner_basic.py"/>
</launch>
